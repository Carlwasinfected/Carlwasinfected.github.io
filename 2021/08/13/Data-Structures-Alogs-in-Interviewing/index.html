<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Carl">





<title>Data Structures &amp; Alogs in Interviewing | Hexo</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 5.4.0"></head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Carl&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Carl&#39;s Blog</a><a id="mobile-toggle-theme">Â·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Data Structures &amp; Alogs in Interviewing</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Carl</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">August 13, 2021&nbsp;&nbsp;22:26:53</a>
                        </span>
                    
                    
                </div>
            
        </header>

        <div class="post-content">
            <h1 id="å¿«æ’-amp-å¿«é€‰"><a href="#å¿«æ’-amp-å¿«é€‰" class="headerlink" title="å¿«æ’ &amp; å¿«é€‰"></a>å¿«æ’ &amp; å¿«é€‰</h1><blockquote>
<p>Reference: </p>
<ul>
<li>quick select wiki:<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Quickselect">https://en.wikipedia.org/wiki/Quickselect</a></li>
</ul>
</blockquote>
<h2 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h2><p>å¿«é€‰ç±»ä¼¼å¿«æ’, ä½†æ˜¯åªå‘ç›®æ ‡åŒºé—´è¿™ä¸€è¾¹é€’å½’, å› æ­¤æ—¶é—´å¤æ‚åº¦æ˜¯<strong>O(n)</strong>. å¿«æ’é€ƒä¸äº†ä¸¤è¾¹éƒ½è¦ä¸€ç›´åˆ†åˆ«é€’å½’ä¸‹å», å› æ­¤å¤æ‚åº¦æ˜¯<strong>O(nlogn)</strong></p>
<blockquote>
<p><em>As with quicksort, quickselect is generally implemented as an <em>in-place</em> algorithm, and beyond selecting the <em>k</em>th element, it also partially sorts the data.</em></p>
</blockquote>
<p><strong>å¿«é€‰:æ¯”å †æ›´å¿«åœ°æ‰¾åˆ°æ•°ç»„çš„ç¬¬kth min/maxå…ƒç´ ; ä½†æ˜¯å°å¿ƒå‡½æ•°çˆ†æ ˆ</strong></p>
<p>æ³¨æ„ä»¥ä¸‹å‡ ä¸ªè¦ç‚¹ ğŸ‘‡</p>
<ol>
<li>æœç´¢åŒºé—´æ˜¯[left, right], ä¹Ÿå°±æ˜¯è¯´ä¸¤è€…éƒ½æ˜¯incluisveçš„. ä¸€å¼€å§‹ä¼ å‚éœ€è¦æ³¨æ„<code>[0, len-1]</code></li>
<li><code>partition()</code>å‡½æ•°æœ‰<strong>ä¸‰ä¸ªé˜¶æ®µçš„swap</strong> </li>
<li><code>lst[cur_idx]</code>æ€»æ˜¯è½åäº<code>lst[i]</code>.  ç”±äºæˆ‘ä»¬æ˜¯éå†<code>lst[i]</code>, å› æ­¤åˆ¤æ–­çš„æ˜¯å¦‚æœ<code>lst[i]</code><strong>å¤§äº</strong>æ¢çº½å…ƒ,åˆ™æŠŠå®ƒäº’æ¢,æ‰”ç»™å‰é¢<code>cur_idx</code>é‚£ä¸ªä½ç½®.  <em>ã€Œä»¥ä»å°åˆ°å¤§æ’åºä¸ºä¾‹ã€</em></li>
<li>åˆ«å¿˜äº†å¦‚æœ<code>cur_idx</code>ä½•æ—¶++</li>
</ol>
<p><strong>å¿«æ’</strong> </p>
<h2 id="å¿«é€‰ä¾‹é¢˜"><a href="#å¿«é€‰ä¾‹é¢˜" class="headerlink" title="å¿«é€‰ä¾‹é¢˜"></a>å¿«é€‰ä¾‹é¢˜</h2><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/kth-largest-element-in-a-stream/"><strong>703. Kth Largest Element in a Stream</strong></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, k: <span class="built_in">int</span>, nums: List[<span class="built_in">int</span>]</span>):</span></span><br><span class="line">    self.l = nums</span><br><span class="line">    self.targetidx = <span class="built_in">len</span>(self.l) - k</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">self, val: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">    <span class="comment"># 1. update target index</span></span><br><span class="line">    self.targetidx += <span class="number">1</span></span><br><span class="line">    self.l.append(val)</span><br><span class="line">    ans =  self.quickselect(<span class="number">0</span>,<span class="built_in">len</span>(self.l)-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quickselect</span>(<span class="params">self, left, right</span>) -&gt; int:</span></span><br><span class="line">    <span class="keyword">if</span> left == right:</span><br><span class="line">        <span class="keyword">return</span> self.l[left]</span><br><span class="line">    </span><br><span class="line">    pivotidx = random.randint(left, right)</span><br><span class="line">    pivotidx = self.partition(left, right, pivotidx)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> pivotidx == self.targetidx:</span><br><span class="line">        <span class="keyword">return</span> self.l[pivotidx]</span><br><span class="line">    <span class="keyword">elif</span> pivotidx &lt; self.targetidx:</span><br><span class="line">        <span class="keyword">return</span> self.quickselect(pivotidx+<span class="number">1</span>, right)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> self.quickselect(left, pivotidx-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">partition</span>(<span class="params">self, left, right, pidx</span>) -&gt; int:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;return the real index of unsorted arr[pivotidx]&quot;&quot;&quot;</span></span><br><span class="line">    pval = self.l[pidx]</span><br><span class="line">    <span class="comment"># first swap</span></span><br><span class="line">    self.l[pidx], self.l[right] = self.l[right], self.l[pidx]</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># second swap</span></span><br><span class="line">    cur_idx = left</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(left, right): <span class="comment"># æ³¨æ„left, rightæœ¬èº«éƒ½æ˜¯inclusiveçš„, å› æ­¤å³è¾¹ç•Œæ˜¯ right-1è€Œä¸æ˜¯-2</span></span><br><span class="line">        <span class="keyword">if</span> self.l[i] &lt; pval: <span class="comment"># æ³¨æ„ </span></span><br><span class="line">            self.l[cur_idx],  self.l[i] = self.l[i], self.l[cur_idx]</span><br><span class="line">            cur_idx += <span class="number">1</span> <span class="comment"># æ³¨æ„. Hit if æ‰++</span></span><br><span class="line">    <span class="comment"># third swap</span></span><br><span class="line">    self.l[right], self.l[cur_idx] = self.l[cur_idx], self.l[right]</span><br><span class="line">    <span class="keyword">return</span> cur_idx</span><br></pre></td></tr></table></figure>



<p><strong><a target="_blank" rel="noopener" href="https://leetcode.com/problems/kth-largest-element-in-an-array/">215. Kth Largest Element in an Array</a></strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findKthLargest</span>(<span class="params">self, nums: List[<span class="built_in">int</span>], k: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;amazon 2021 vo : https://www.1point3acres.com/bbs/thread-787220-1-1.html&quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># Quick Select O(N)</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">partition</span>(<span class="params">left, right, pivot_idx</span>):</span></span><br><span class="line">            pivot = nums[pivot_idx]</span><br><span class="line">            <span class="comment">#1. swap pivot to the end</span></span><br><span class="line">            nums[pivot_idx], nums[right] = nums[right], nums[pivot_idx]</span><br><span class="line">            </span><br><span class="line">            <span class="comment">#2. compare nums[i] with pivot; move all smaller element to the left</span></span><br><span class="line">            store_idx = left <span class="comment"># æ³¨æ„ ä¸æ˜¯0</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(left, right):  <span class="comment"># è¿­ä»£åŒºé—´[left, right-1] æ³¨æ„rightå·²ç»æ˜¯len-1</span></span><br><span class="line">                <span class="keyword">if</span> nums[i] &lt; pivot:</span><br><span class="line">                    <span class="comment"># swap</span></span><br><span class="line">                    nums[store_idx], nums[i] = nums[i], nums[store_idx]</span><br><span class="line">                    store_idx += <span class="number">1</span></span><br><span class="line">            <span class="comment"># 3. move pivot to its final place</span></span><br><span class="line">            nums[store_idx], nums[right] = nums[right], nums[store_idx]</span><br><span class="line">            <span class="keyword">return</span> store_idx</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">quickselect</span>(<span class="params">left, right, target_idx</span>):</span></span><br><span class="line">            <span class="keyword">if</span> left == right:</span><br><span class="line">                <span class="keyword">return</span> nums[left]  <span class="comment"># answer1</span></span><br><span class="line">            </span><br><span class="line">            pivot_idx = random.randint(left, right)</span><br><span class="line">            pivot_idx = partition(left, right, pivot_idx)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> target_idx == pivot_idx:</span><br><span class="line">                <span class="keyword">return</span> nums[target_idx] <span class="comment"># answer2</span></span><br><span class="line">            <span class="keyword">elif</span> target_idx &lt; pivot_idx:</span><br><span class="line">                <span class="keyword">return</span> quickselect(left, pivot_idx-<span class="number">1</span>, target_idx)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> quickselect(pivot_idx+<span class="number">1</span>, right, target_idx)</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> quickselect(<span class="number">0</span>, <span class="built_in">len</span>(nums)-<span class="number">1</span>, <span class="built_in">len</span>(nums)-k)</span><br></pre></td></tr></table></figure>



<h1 id="å•è°ƒæ ˆå’Œå•è°ƒé˜Ÿåˆ—"><a href="#å•è°ƒæ ˆå’Œå•è°ƒé˜Ÿåˆ—" class="headerlink" title="å•è°ƒæ ˆå’Œå•è°ƒé˜Ÿåˆ—"></a>å•è°ƒæ ˆå’Œå•è°ƒé˜Ÿåˆ—</h1><p><strong>å•è°ƒæ ˆ</strong></p>
<p>When: éœ€è¦æ‰¾åˆ°æ•°ç»„ä¸­å½“å‰å…ƒç´ çš„<strong>â€œä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ â€</strong></p>
<p>ç‰¹ç‚¹: æ ˆä¸­å…ƒç´ éƒ½æ˜¯å•è°ƒé€’å¢æˆ–è€…å•è°ƒé€’å¢çš„. å¦‚æœæ±‚ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ , æ˜¾ç„¶è¦æ±‚å‡ºæ ˆçš„åºåˆ—æ˜¯é€’å¢çš„ã€Œå¦åˆ™å¯èƒ½å‡ºç°ä¸‹äºŒä¸ªæ›´å¤§å…ƒç´ . é‚£ä¹ˆè¦æ±‚<strong>å…¥æ ˆçš„åºåˆ—æ˜¯é€’å‡</strong>çš„, æ¯”å¦‚<code>[6, 3, 2, 1</code>   ä¹Ÿå°±æ˜¯è¯´éå†è¿‡ç¨‹ä¸­é‡åˆ°å¤§äºç­‰äºæ ˆé¡¶çš„å…ƒç´ éœ€è¦ä¸€ç›´pop,çŸ¥é“æ ˆé¡¶å…ƒç´ å°äºéå†å…ƒç´ .   </p>
<blockquote>
<p>e.g., <code>[6, 3, 2, 1</code> é‡åˆ°äº†4, é‚£ä¹ˆè¦ä¾æ¬¡popæ‰1,2,3; ==&gt;  <code>[6,4</code></p>
</blockquote>
<p>æ‰€ä»¥å•è°ƒæ ˆæ˜¯é <strong>åˆ é™¤ã€popæ“ä½œã€</strong>æ¥ä¿è¯å®¹å™¨å†…çš„å•è°ƒæ€§çš„. åé¢çš„å•è°ƒé˜Ÿåˆ—ä¹Ÿæ˜¯å¦‚æ­¤.</p>
<p>åˆå› ä¸ºâ€œä¸‹ä¸€ä¸ªâ€ ä»£è¡¨ç€è¦åœ¨æ‰¾ç´¢å¼•æ¯”å½“å‰å…ƒç´ æ›´å¤§çš„åŒºé—´é‡Œæœç´¢. æ‰€ä»¥å¯çŸ¥ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹ ğŸ‘‡ğŸ‘‡</p>
<blockquote>
<ol>
<li>ä»æ•°ç»„ç»“å°¾å¾€å‰éå†</li>
<li>åªè®©æ¯”å½“å‰æ ˆé¡¶å…ƒç´ å¤§çš„å…¥æ ˆ, å¦‚æœä¸æ»¡è¶³, é‚£ä¹ˆä¸€ç›´popæ ˆé¡¶ç›´åˆ°ç©º</li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># â€œä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ â€œçš„æ¨¡ç‰ˆ </span></span><br><span class="line"></span><br><span class="line">s = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(arr)-<span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):<span class="comment"># from end to 0</span></span><br><span class="line">    <span class="comment"># å¦‚æœæ ˆé¡¶å°äºç­‰äºå…ƒç´ ,å°±ä¸€ç›´pop; ä»¥æ­¤ç»´æŒstack**è‡ªåº•å‘ä¸Šæ˜¯å•è°ƒå‡çš„** </span></span><br><span class="line">    <span class="keyword">while</span> s <span class="keyword">and</span> s[-<span class="number">1</span>] &lt;= arr[i]: </span><br><span class="line">        s.pop()</span><br><span class="line">    ans[i] = s[-<span class="number">1</span>] <span class="keyword">if</span> <span class="keyword">not</span> s.empty() <span class="keyword">else</span> -<span class="number">1</span> <span class="comment"># ans[i]: ç¬¬iä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ </span></span><br><span class="line">    s.append(arr[i])</span><br></pre></td></tr></table></figure>



<p><strong>å•è°ƒé˜Ÿåˆ—</strong></p>
<h2 id="å•è°ƒæ ˆä¾‹é¢˜"><a href="#å•è°ƒæ ˆä¾‹é¢˜" class="headerlink" title="å•è°ƒæ ˆä¾‹é¢˜"></a>å•è°ƒæ ˆä¾‹é¢˜</h2><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/next-greater-element-i/"><strong>\496. Next Greater Element I</strong></a></p>
<blockquote>
<img src="https://cdn.jsdelivr.net/gh/Carlwasinfected/hximgs@main/data/image-20210814005948436.png" alt="image-20210814005948436" style="zoom:50%;" />

<p>å…¶ä¸­nums1æ˜¯nums2çš„å­é›†. äºŒè€…éƒ½æ²¡æœ‰é‡å¤å…ƒç´ </p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">nextGreaterElement</span>(<span class="params">self, nums1: List[<span class="built_in">int</span>], nums2: List[<span class="built_in">int</span>]</span>) -&gt; List[int]:</span></span><br><span class="line">        <span class="comment"># mono stack</span></span><br><span class="line">        <span class="comment"># Note that nums1 is subset of nums2 &amp;&amp; all elements are unique</span></span><br><span class="line">        ans = [<span class="number">0</span>] * <span class="built_in">len</span>(nums1)</span><br><span class="line">        <span class="comment">#res = 0</span></span><br><span class="line">        d =&#123;&#125; <span class="comment"># &#123;val: next greater number&#125;</span></span><br><span class="line">        s = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums2)-<span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">while</span> s <span class="keyword">and</span> s[-<span class="number">1</span>] &lt;= nums2[i]:</span><br><span class="line">                s.pop()</span><br><span class="line">            d[nums2[i]] = -<span class="number">1</span> <span class="keyword">if</span> <span class="built_in">len</span>(s) == <span class="number">0</span> <span class="keyword">else</span> s[-<span class="number">1</span>]</span><br><span class="line">            s.append(nums2[i])</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums1)):</span><br><span class="line">            ans[i] = d[nums1[i]]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/next-greater-element-ii/"><strong>\503. Next Greater Element II</strong></a></p>
<blockquote>
<p>æ‰¾nums[i]çš„ä¸‹ä¸ªæ›´å¤§, ä½†æ˜¯å¯ä»¥ä»å…ƒç´ å³è¾¹æ‰¾ä¸€åœˆä¸€ç›´æ‰¾åˆ°å…ƒç´ å·¦è¾¹ </p>
<p><strong>å¾ªç¯æ•°ç»„ â€“&gt;  ç´¢å¼•å–ä½™</strong></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">nextGreaterElements</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; List[int]:</span></span><br><span class="line">        <span class="comment"># å•è°ƒæ ˆ+å¾ªç¯æ•°ç»„  T = k*O(n) = O(n)</span></span><br><span class="line">        <span class="comment"># 1.ä¸ºäº†æ‰¾**ä¹‹å**, æ‰€ä»¥å€’ç€éå†</span></span><br><span class="line">        <span class="comment"># 2.ä¸ºäº†æ‰¾**ç¬¬ä¸€ä¸ª**æ¯”nums[i]å¤§çš„å…ƒç´ , æ‰€ä»¥å¿…é¡»å¢åºå‡ºæ ˆ, å› æ­¤å…¥æ ˆå¿…é¡»é™åº.å³ä¿è¯æ ˆåº•æœ€å¤§,æ ˆé¡¶æœ€å°,ä¸”æ ˆå•è°ƒ</span></span><br><span class="line">        <span class="comment"># 3. å¾ªç¯æ•°ç»„,åˆ©ç”¨ä¸¤å€é•¿åº¦ + i%nåšç´¢å¼•</span></span><br><span class="line">        </span><br><span class="line">        s = []</span><br><span class="line">        n = <span class="built_in">len</span>(nums)</span><br><span class="line">        res = [-<span class="number">1</span>] * n </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span> * n - <span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">while</span> s <span class="keyword">and</span> s[-<span class="number">1</span>] &lt;= nums[i%n]: <span class="comment"># æ³¨æ„é¢˜å¹²æ‰¾å¤§äº. å› æ­¤==ä¹Ÿè¦popæ‰</span></span><br><span class="line">                s.pop()</span><br><span class="line">            res[i%n] = s[-<span class="number">1</span>] <span class="keyword">if</span> <span class="built_in">len</span>(s) != <span class="number">0</span> <span class="keyword">else</span> -<span class="number">1</span></span><br><span class="line">            s.append(nums[i%n])</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/next-greater-node-in-linked-list/"><strong>\1019. Next Greater Node In Linked List</strong></a></p>
<blockquote>
<img src="https://cdn.jsdelivr.net/gh/Carlwasinfected/hximgs@main/data/image-20210814011149600.png" alt="image-20210814011149600" style="zoom:50%;" />
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, next=None):</span></span><br><span class="line"><span class="comment">#         self.val = val</span></span><br><span class="line"><span class="comment">#         self.next = next</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">nextLargerNodes</span>(<span class="params">self, head: Optional[ListNode]</span>) -&gt; List[int]:</span></span><br><span class="line">        <span class="comment"># å•è°ƒæ ˆ, å¤šäº†ä¸ªéå†é“¾è¡¨è¯»å€¼è€Œå·²  </span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">while</span> head:</span><br><span class="line">            res.append(head.val)</span><br><span class="line">            head = head.<span class="built_in">next</span></span><br><span class="line">        </span><br><span class="line">        n = <span class="built_in">len</span>(res)</span><br><span class="line">        ans = [<span class="number">0</span>] * n</span><br><span class="line">        s = [] <span class="comment"># monotonic stack</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n-<span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">while</span> s <span class="keyword">and</span> s[-<span class="number">1</span>] &lt;= res[i]:</span><br><span class="line">                s.pop()</span><br><span class="line">            <span class="keyword">if</span> s:</span><br><span class="line">                ans[i] = s[-<span class="number">1</span>]</span><br><span class="line">            s.append(res[i])</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>





<h2 id="å•è°ƒé˜Ÿåˆ—ä¾‹é¢˜"><a href="#å•è°ƒé˜Ÿåˆ—ä¾‹é¢˜" class="headerlink" title="å•è°ƒé˜Ÿåˆ—ä¾‹é¢˜"></a>å•è°ƒé˜Ÿåˆ—ä¾‹é¢˜</h2><p>ç”¨äºè§£å†³æ»‘åŠ¨çª—å£é—®é¢˜. å½“ä½ éœ€è¦ç»´æŒä¸€ä¸ªçª—å£,å¹¶ä¿è¯é˜Ÿåˆ—å¤´åˆ°é˜Ÿåˆ—å°¾çš„å•è°ƒæ€§æ—¶. </p>
<p>ç”±äºé˜Ÿåˆ—çš„FIFOç‰¹æ€§, å› æ­¤å•è°ƒé˜Ÿåˆ—çš„å‡ºæ ˆå’Œå…¥æ ˆæ˜¯åŒå‘çš„ã€Œè¦ä¹ˆéƒ½å•è°ƒé€’å¢, è¦ä¹ˆéƒ½å•è°ƒé€’å‡ã€ æ¨¡ç‰ˆç±»ä¼¼å•è°ƒæ ˆ,é€šè¿‡æ¯”è¾ƒå½“å‰å…ƒç´ å’Œé˜Ÿå¤´,ä¸æ–­popé˜Ÿå¤´ç›´åˆ°ç©ºæˆ–è€…æ»¡è¶³å¤§å°å…³ç³»å†åŠ å…¥é˜Ÿå°¾.</p>
<p><strong><a target="_blank" rel="noopener" href="https://leetcode.com/problems/sliding-window-maximum/">Sliding Window Maximum</a></strong></p>
<img src="https://cdn.jsdelivr.net/gh/Carlwasinfected/hximgs@main/data/image-20210816104407066.png" alt="image-20210816104407066" style="zoom:50%;" />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">maxSlidingWindow</span>(<span class="params">self, nums: List[<span class="built_in">int</span>], k: <span class="built_in">int</span></span>) -&gt; List[int]:</span></span><br><span class="line">    q = collections.deque()</span><br><span class="line">    res = collections.deque()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ç›®æ ‡:é˜Ÿå¤´å…ƒç´ æœ€å¤§, q: index of nums[i] </span></span><br><span class="line">    <span class="keyword">for</span> i, val <span class="keyword">in</span> <span class="built_in">enumerate</span>(nums): </span><br><span class="line">        <span class="keyword">while</span> q <span class="keyword">and</span> nums[q[-<span class="number">1</span>]] &lt; val:</span><br><span class="line">            q.pop()</span><br><span class="line">        q.append(i)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># maintain window size</span></span><br><span class="line">        <span class="keyword">if</span> q[<span class="number">0</span>] + k &gt;= i:</span><br><span class="line">            q.popleft()</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">if</span> i &gt;= k-<span class="number">1</span>:</span><br><span class="line">            res.append(nums[q[<span class="number">0</span>]])</span><br><span class="line">     <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>



<h1 id="æ‹“æ‰‘æ’åº"><a href="#æ‹“æ‰‘æ’åº" class="headerlink" title="æ‹“æ‰‘æ’åº"></a>æ‹“æ‰‘æ’åº</h1><blockquote>
<p>Ref:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/7nP92FhCTpTKIAplj_xWpA">https://mp.weixin.qq.com/s/7nP92FhCTpTKIAplj_xWpA</a></li>
</ul>
</blockquote>
<p>å¦‚æœ<code>a --&gt; b</code>è¡¨ç¤º<code>b</code>ä¾èµ–äº<code>a</code>, å³<code>b</code>å¿…é¡»åœ¨<code>a</code>æ‰§è¡Œä¹‹åæ‰èƒ½æ‰§è¡Œ, é‚£ä¹ˆç»™å®šä¸€ä¸ªä¾èµ–åºåˆ—, å¯ä»¥åˆ©ç”¨æ‹“æ‰‘æ’<strong>åºæ‰¾åˆ°æ»¡è¶³ä¾èµ–å…³ç³»çš„èŠ‚ç‚¹æ‰§è¡Œé¡ºåº</strong>, è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºæ‹“æ‰‘æ’åº.</p>
<blockquote>
<p>e.g., <code>graph[0] = [0, 0, 1, 1, 0]</code> è¡¨ç¤º2å’Œ3ä¾èµ–0, å¿…é¡»æ™šäº0æ‰§è¡Œ.</p>
</blockquote>
<p>æ‹“æ‰‘æ’åºæœ‰ä»¥ä¸‹æ€§è´¨:</p>
<p>1.æ‹“æ‰‘æ’åºæ˜¯å›¾<strong>ååºéå†</strong>åºåˆ—çš„<strong>reverse</strong>ç»“æœ</p>
<blockquote>
<p>å› ä¸ºä¾èµ–å…³ç³»çš„è¦æ±‚æ˜¯å¿…é¡»è‡ªå·±æ‰€ä¾èµ–çš„ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæˆåæ‰èƒ½æ‰§è¡Œè‡ªå·± </p>
</blockquote>
<p>2.å›¾ä¸­ä¸å­˜åœ¨å¾ªç¯ä¾èµ–. å³æ‹“æ‰‘æ’åºåªé’ˆå¯¹<strong>æœ‰å‘æ— ç¯å›¾</strong>,  åœ¨DFSè¿‡ç¨‹ä¸­éœ€è¦å¯¹å½“å‰èŠ‚ç‚¹è¿›è¡Œ<strong>ç¯æ£€æµ‹ã€Œè§ä¸‹ã€</strong></p>
<p><strong>åˆ¤æ–­æœ‰å‘å›¾æœ‰ç¯æ˜¯å¦éœ€è¦æ‹“æ‰‘æ’åº?</strong></p>
<p>ä¸ç”¨. æ‹“æ‰‘æ’åºåªæ˜¯åŸºäº<strong>æ— ç¯æœ‰å‘å›¾</strong>å‰æä¸‹<strong>ååºéå†çš„ç»“æœäº§ç‰©</strong>, åªåˆ¤æ–­æœ‰å‘å›¾æ˜¯å¦æœ‰ç¯çš„è¯è·Ÿæ‹“æ‰‘æ’åºæ²¡å…³ç³». </p>
<p>åªæ˜¯åˆ¤æ–­æ˜¯å¦æœ‰ç¯, <code>DFS/BFS + seen&#123;&#125; + cur_path[]</code> å°±å¯ä»¥äº†</p>
<p>æ¨¡ç‰ˆ <strong>T = O(V+E)</strong></p>
<ol>
<li><p>åŸºäºDFS</p>
</li>
<li><p>åŸºäºå…¥åº¦å’Œé‚»æ¥è¡¨ </p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Topological_sorting"><em>Kahnâ€™s</em> <em>Algorithm</em></a></p>
<ol>
<li>æ„å»ºå¥½é‚»æ¥è¡¨å’Œå…¥åº¦è¡¨</li>
<li>æŠŠæ‰€æœ‰å…¥åº¦ä¸º0çš„ç‚¹åŠ å…¥é˜Ÿåˆ—<code>zero</code> </li>
<li>å¦‚æœé˜Ÿåˆ—ä¸ç©º, popé˜Ÿå¤´. æŠŠé˜Ÿå¤´åŠ å…¥æ‹“æ‰‘æ’åºçš„ç»“æœ<code>res[]</code>  å†æŠŠé˜Ÿå¤´é‚»å±…çš„æ‰€æœ‰å…¥åº¦éƒ½å‡ä¸€ã€Œå»è¾¹ã€, å¹¶åˆ¤æ–­å¦‚æœæœ‰å…¥åº¦ä¸º0çš„, åˆ™åŠ å…¥<code>zero</code>é˜Ÿåˆ—</li>
<li>é‡å¤3, ç›´åˆ°é˜Ÿåˆ—ç©º</li>
<li>å¦‚æœ<code>res</code>ä¸­åŸèŠ‚ç‚¹éƒ½åœ¨,é‚£ä¹ˆè¿™ä¸ªå›¾æ˜¯å¯æ‹“æ‰‘çš„. è¾“å‡º<code>res</code></li>
</ol>
</blockquote>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">topsort</span>():</span></span><br><span class="line">        edges = defaultdict(<span class="built_in">list</span>) <span class="comment"># &#123;node : [neighbors]&#125;</span></span><br><span class="line">        ind = defaultdict(<span class="built_in">int</span>) <span class="comment"># &#123;node : indegree&#125;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># build </span></span><br><span class="line">        <span class="keyword">for</span> to, fro <span class="keyword">in</span> prerequisites:</span><br><span class="line">            ind[to] += <span class="number">1</span></span><br><span class="line">            edges[fro].append(to)</span><br><span class="line">        </span><br><span class="line">        zero_d = deque([i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num) <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> ind])</span><br><span class="line">        res = []</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> zero_d:</span><br><span class="line">            cur_node = zero_d.popleft()</span><br><span class="line">            res.append(cur_node)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">for</span> node <span class="keyword">in</span> edges[cur_node]:</span><br><span class="line">                ind[node] -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> ind[node] == <span class="number">0</span>:</span><br><span class="line">                    zero_d.append(node)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res <span class="keyword">if</span> <span class="built_in">len</span>(res) == num <span class="keyword">else</span> []</span><br><span class="line">        </span><br></pre></td></tr></table></figure>



<h1 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h1><h1 id="å¾ªç¯æ•°ç»„"><a href="#å¾ªç¯æ•°ç»„" class="headerlink" title="å¾ªç¯æ•°ç»„"></a>å¾ªç¯æ•°ç»„</h1><h1 id="å­—å…¸æ ‘"><a href="#å­—å…¸æ ‘" class="headerlink" title="å­—å…¸æ ‘"></a>å­—å…¸æ ‘</h1><blockquote>
<p>Ref: <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Trie">https://en.wikipedia.org/wiki/Trie</a></p>
<p>leetcode 208:<a target="_blank" rel="noopener" href="https://leetcode.com/problems/implement-trie-prefix-tree/">https://leetcode.com/problems/implement-trie-prefix-tree/</a></p>
</blockquote>
<p>å­—å…¸æ ‘æ˜¯ä¸€ç§<strong>å¤šå‰æœç´¢æ ‘</strong>,  æ¯ä¸ªèŠ‚ç‚¹çš„valæ˜¯ä¸€ä¸ª<code>char</code>,  ä»<code>root --&gt; current node</code>çš„è·¯å¾„å¯ä»¥è¡¨ç¤ºå­—ç¬¦ä¸².</p>
<p>å­—å…¸æ ‘çš„ç»“æ„å¦‚ä¸‹, <strong>ä¸€èˆ¬<code>root</code>ä¸èµ‹å€¼, ä½œä¸ºå ä½çš„å“¨å…µèŠ‚ç‚¹.</strong></p>
<img src="https://cdn.jsdelivr.net/gh/Carlwasinfected/hximgs@main/data/image-20210822075903846.png" alt="image-20210822075903846" style="zoom:50%;" />

<p><strong>å­—å…¸æ ‘èŠ‚ç‚¹çš„æ•°æ®ç»“æ„</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span>:</span></span><br><span class="line">    self.children = &#123;char : node that holds the char&#125; <span class="comment"># å­èŠ‚ç‚¹çš„hash table</span></span><br><span class="line">    self.val = current char  <span class="comment"># è‡ªå·±çš„char</span></span><br><span class="line">    self.isEnd = <span class="literal">False</span>  <span class="comment"># æ˜¯å¦æ˜¯æŸä¸ªwordçš„ç»“å°¾</span></span><br></pre></td></tr></table></figure>

<p><strong>å­—å…¸æ ‘çš„æ•°æ®ç»“æ„ã€Œåˆ©ç”¨DFSéå†æ‰¾ä½ç½®ã€</strong></p>
<ul>
<li><p><code>search()</code> </p>
<p>  æŸ¥æ‰¾æ˜¯å¦æœ‰æŸä¸ª<code>word</code> ==&gt; æ‰¾åˆ°æœ€åä¸€ä¸ªchar, è‹¥èƒ½æ‰¾åˆ°,return <code>self.isEnd</code></p>
</li>
<li><p><code>hasStartWith() </code>  æŸ¥æ‰¾æ˜¯å¦æœ‰ä»¥æŸä¸ª<code>string</code>ä¸ºå‰åºçš„<code>string</code></p>
<p>  æ³¨æ„å’Œ<code>search()</code>ç›¸åŒºåˆ«.   <strong>å¶å­ç»“ç‚¹ä¸€å®šæ˜¯æŸä¸ªword, ä½†æ˜¯éå¶å­ç»“ç‚¹ä¸ä¸€å®šå°±ä¸æ˜¯æŸä¸ªword</strong> . å› æ­¤å¦‚æœå¯ä»¥æˆåŠŸéå†å®Œæ‰€æœ‰char,å°±<code>return True</code></p>
</li>
<li><p><code>insert()</code> :   æ’å…¥æŸä¸ª<code>string</code></p>
<p>  DFSåˆ°æ’å…¥ç‚¹: <code>if current char does not exist</code>, é‚£ä¹ˆ<code>new</code>ä¸€ä¸ªæ–°ç»“ç‚¹, æ’å…¥åˆ°å½“å‰èŠ‚ç‚¹çš„<code>children hash table</code>ä¸­</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, val = <span class="literal">None</span></span>):</span></span><br><span class="line">        self.children = &#123;&#125; <span class="comment"># &#123;char : node that holds that char&#125;</span></span><br><span class="line">        self.val = val <span class="comment"># current character</span></span><br><span class="line">        self.isEnd = <span class="literal">False</span> <span class="comment"># Trie has a word ending in current node</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Trie</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Initialize your data structure here.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        self.root = Node() <span class="comment"># å ä½</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert</span>(<span class="params">self, word: <span class="built_in">str</span></span>) -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Inserts a word into the trie.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        ptr = self.root</span><br><span class="line">        <span class="keyword">for</span> ch <span class="keyword">in</span> word:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> ptr.children.get(ch): <span class="comment"># found the inserted point</span></span><br><span class="line">                ptr.children[ch] = Node(ch)</span><br><span class="line">            ptr = ptr.children[ch]</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># pointer ends in last char node(leaf) in the tree.</span></span><br><span class="line">        ptr.isEnd = <span class="literal">True</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">search</span>(<span class="params">self, word: <span class="built_in">str</span></span>) -&gt; bool:</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Returns if the word is in the trie.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># Find Function</span></span><br><span class="line">        ptr = self.root</span><br><span class="line">        <span class="keyword">for</span> ch <span class="keyword">in</span> word:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> ptr.children.get(ch):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            ptr = ptr.children[ch]</span><br><span class="line">        <span class="keyword">return</span> ptr.isEnd</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">startsWith</span>(<span class="params">self, prefix: <span class="built_in">str</span></span>) -&gt; bool:</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Returns if there is any word in the trie that starts with the given prefix.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># Find Function</span></span><br><span class="line">        ptr = self.root</span><br><span class="line">        <span class="keyword">for</span> ch <span class="keyword">in</span> prefix:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> ptr.children.get(ch):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            ptr = ptr.children[ch]</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line"><span class="comment"># Your Trie object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"># obj = Trie()</span></span><br><span class="line"><span class="comment"># obj.insert(word)</span></span><br><span class="line"><span class="comment"># param_2 = obj.search(word)</span></span><br><span class="line"><span class="comment"># param_3 = obj.startsWith(prefix)</span></span><br></pre></td></tr></table></figure>





<h1 id="å‰ç¼€å’Œã€Œè§£å†³å­æ•°ç»„å’Œçš„é—®é¢˜ã€"><a href="#å‰ç¼€å’Œã€Œè§£å†³å­æ•°ç»„å’Œçš„é—®é¢˜ã€" class="headerlink" title="å‰ç¼€å’Œã€Œè§£å†³å­æ•°ç»„å’Œçš„é—®é¢˜ã€"></a>å‰ç¼€å’Œã€Œè§£å†³å­æ•°ç»„å’Œçš„é—®é¢˜ã€</h1><p>ç»™å®šä¸€ä¸ªæ•°ç»„<code>nums</code>, é•¿åº¦ä¸º<code>n</code>, å¯ä»¥æ„å»ºä¸€ä¸ªå‰ç¼€å’Œæ•°ç»„<code>pre_sum</code>, é•¿åº¦ä¸º<code>n+1</code>,  å…¶ä¸­<code>pre_sum[0] = 0</code>, <code>pre_sum[i]</code> è¡¨ç¤º<code>nums[0 ... i-1]</code>çš„åŠ å’Œ. å› æ­¤æœ‰<code>pre_sum[i] = pre_sum[i-1] + nums[i-1]</code></p>
<p><strong><a target="_blank" rel="noopener" href="https://leetcode.com/problems/subarray-sum-equals-k/">560. Subarray Sum Equals K</a></strong></p>
<p>æ³¨æ„è¿™é¢˜æ€è·¯: å­æ•°ç»„åŒºé—´sum â€“&gt; å‰ç¼€å’Œ â€“&gt; æ‰¾åˆ°æ»¡è¶³<code>presum[i] - presum[j] == k</code>çš„<code>(i, j)</code>æœ‰å¤šå°‘ä¸ª.</p>
<p>å› æ­¤å¯¹äºè¿™é¢˜, æˆ‘ä»¬ä¸éœ€è¦å¼€ä¸€ä¸ª<code>pre_sum</code>æ•°ç»„, å› ä¸ºæˆ‘ä»¬å¹¶ä¸å…³å¿ƒå‰ç¼€å’Œçš„ä½ç½®. æˆ‘ä»¬åªå…³å¿ƒå‰ç¼€å’Œä¸ºæŸä¸ªå€¼çš„å­æ•°ç»„æœ‰å¤šå°‘ä¸ª, è€Œä¸å…³å¿ƒä»–åœ¨å“ªç­‰å…¶ä»–ä¿¡æ¯.</p>
<p>äºæ˜¯å¯ä»¥ç”¨<code>hash table</code>ä¼˜åŒ–. <code>&#123;å‰ç¼€å’Œ : å‰ç¼€å’Œå‡ºç°çš„æ¬¡æ•°&#125;</code>. <strong>å¯¹äºå‰ç¼€å’Œä¸º<code>cur_sum</code>, æˆ‘ä»¬æœŸå¾…æ‰¾å‰ç¼€å’Œä¸º<code>cur_sum - k</code>çš„æ¬¡æ•°.</strong></p>
<p>æ—¶é—´å¤æ‚åº¦: <strong>O(n2) â€“&gt; O(n)</strong></p>
<p><em><strong>å¯ä»¥åœ¨<code>for</code>ç»“æŸä»¥å,å†æ¥ä¸€é<code>for</code>åˆ¤æ–­kvæ˜¯å¦å­˜åœ¨å—?</strong></em></p>
<p><strong>ä¸å¯ä»¥.</strong> å‡è®¾i,jä¸ºå‰ç¼€å’Œæ•°ç»„çš„ä¸‹æ ‡. å› ä¸ºå¯¹äºæ¯ä¸ªi,å®é™…ä¸Šè¦æ‰¾çš„jå¿…é¡»æœ‰**<code>j &lt;= i</code>,** å¦åˆ™å®é™…ä¸Šè¿™ä¸ªå­æ•°ç»„çš„sizeå°±å°äº0äº†, è‚¯å®šä¸åˆæ³•. </p>
<p>ä½†æ˜¯å¦‚æœåˆ†å¼€ä¸¤ä¸ª<code>for</code>åš, æ‰¾åˆ°çš„<code>(i,j)</code>, ä¸ä¸€å®šæ»¡è¶³è¿™ä¸ªé™åˆ¶æ¡ä»¶. </p>
<p>æ¯”å¦‚å¯¹äº<code>k == 1, cur_sum = 3</code>,  å¯èƒ½ä¼šæœ‰å‰ç¼€å’Œæ•°ç»„ä¸º<code>[... , 2, 3, 5, 2]</code>çš„æƒ…å†µ, åé¢ä¸€å¯¹<code>[3 .. 2]</code>æ˜¾ç„¶ä¸åˆæ³•. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">subarraySum</span>(<span class="params">self, nums: List[<span class="built_in">int</span>], k: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        <span class="comment"># å‰ç¼€å’Œ. ä¼˜åŒ– T = O(n2) --&gt; O(n) ç©ºé—´æ¢æ—¶é—´ </span></span><br><span class="line">        n = <span class="built_in">len</span>(nums)</span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        presum = collections.defaultdict(<span class="built_in">int</span>) <span class="comment"># &#123;presum : amount of occurance of `presum` &#125;</span></span><br><span class="line">        </span><br><span class="line">        presum[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">        cur_sum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            cur_sum += nums[i]</span><br><span class="line">            target_sum = cur_sum - k</span><br><span class="line">            <span class="keyword">if</span> presum[target_sum]: <span class="comment"># å­˜åœ¨</span></span><br><span class="line">                ans += presum[target_sum]</span><br><span class="line">            presum[cur_sum] += <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>





<h1 id="æ ‘çŠ¶æ•°ç»„"><a href="#æ ‘çŠ¶æ•°ç»„" class="headerlink" title="æ ‘çŠ¶æ•°ç»„"></a>æ ‘çŠ¶æ•°ç»„</h1>
        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>Carl</span>
                    </p>
                
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2021 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>My Heart is in the <strong>WORK</strong> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i> - from <strong>Andrew Carnegie</strong></i></span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/Interview-Algorithm/"># Interview - Algorithm</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>Â· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
            
            <a class="next" rel="next" href="/2021/08/05/Git-Related/">Git Related</a>
            
        </section>


    </article>
</div>


<!-- add git talk -->

    <div id="gitalk-container"></div>
    <script src="//cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js"></script> 
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.5.2/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1.5.2/dist/gitalk.min.js"></script>
<div id="gitalk-container"></div>
<script type="text/javascript">
      var gitalk = new Gitalk({
        clientID: '2cb4dd5456ba994168fe',
        clientSecret: '66d8270f473a683bdc1a1ad00d6d1348b773047b',
        repo: 'Carlwasinfected.github.io',
        owner: 'Carlwasinfected',
        admin: 'Carlwasinfected',
        id: md5(location.pathname),
        labels: 'Gitalk'.split(',').filter(l => l),
        perPage: 15,
        pagerDirection: 'last',
        createIssueManually: true,
        distractionFreeMode: false
      })
      gitalk.render('gitalk-container')
</script>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>Â© Carl | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a> 
            <br>
        
            <!-- å¢åŠ ç«™ç‚¹ç»Ÿè®¡æŸ¥è¯¢ -->

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<span class="site-uv">
    <i>Vistors:</i>
    <i class="busuanzi-value" id="busuanzi_value_site_uv"></i>
</span>&nbsp;


<span class="site-pv">
    <i>Views:</i>
    <i class="busuanzi-value" id="busuanzi_value_site_pv"></i>
</span>

        </span>
    </div>
</footer>

    </div>
</body>
</html>
